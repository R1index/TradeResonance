/* ==== Theme tokens ===================================================== */
:root{
  /* light */
  --card: rgb(255 255 255);
  --surface: rgb(250 250 250);
  --border: rgb(228 228 231);
  --text: rgb(24 24 27);
  --muted: rgb(113 113 122);

  /* dark */
  --card-dark: rgb(24 24 27);
  --surface-dark: rgb(17 17 19);
  --border-dark: rgb(39 39 42);
  --text-dark: rgb(244 244 245);
  --muted-dark: rgb(161 161 170);

  --chip-green: 22 163 74;  /*  rgb() без оболочки  => используем как rgba(var(--chip-green), .15)  */
  --chip-red:   220 38 38;
}

/* ==== Layout basics, so body inherits via theme ======================= */
body{
  background: var(--surface);
  color: var(--text);
}
html.dark body{
  background: var(--surface-dark);
  color: var(--text-dark);
}

/* ==== Header (blur + border via tokens) =============================== */
.header-blur{
  background: color-mix(in oklab, var(--card) 92%, transparent);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(8px);
}
html.dark .header-blur{
  background: color-mix(in oklab, var(--card-dark) 92%, transparent);
  border-bottom-color: var(--border-dark);
}

/* ==== Cards, tables, inputs ========================================== */
.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 1rem;
}
html.dark .card{
  background: var(--card-dark);
  border-color: var(--border-dark);
}

.table-card{
  width:100%;
  border-collapse: separate;
  border-spacing: 0;
  background: var(--card);
}
html.dark .table-card{ background: var(--card-dark); }
.table-card thead th{
  color: var(--muted);
  font-weight: 600;
}
html.dark .table-card thead th{
  color: var(--muted-dark);
}
.table-card tbody tr{ border-bottom: 1px solid var(--border); }
html.dark .table-card tbody tr{ border-bottom-color: var(--border-dark); }
.table-card td, .table-card th{
  background: transparent;
  color: inherit;
}

.input, .select{
  background: var(--card) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
}
html.dark .input, html.dark .select{
  background: var(--card-dark) !important;
  color: var(--text-dark) !important;
  border-color: var(--border-dark) !important;
}
.input::placeholder, .select::placeholder{
  color: var(--muted);
}
html.dark .input::placeholder, html.dark .select::placeholder{
  color: var(--muted-dark);
}

/* ==== Buttons / tabs ================================================== */
.btn, .btn-outline, .tab{ color: inherit; }
.btn-outline{
  background: transparent;
  border: 1px solid var(--border);
}
html.dark .btn-outline{ border-color: var(--border-dark); }

.tab-active{ background: rgba(0,0,0,.04); }
html.dark .tab-active{ background: rgba(255,255,255,.06); }

/* ==== Badges for trends =============================================== */
.badge{
  display:inline-flex; align-items:center; gap:.375rem;
  padding:.125rem .5rem; border-radius:999px; font-size:.75rem; line-height:1rem;
}
.badge-green{
  background-color: rgba(var(--chip-green), .15);
  color: rgb(var(--chip-green));
}
.badge-red{
  background-color: rgba(var(--chip-red), .15);
  color: rgb(var(--chip-red));
}
